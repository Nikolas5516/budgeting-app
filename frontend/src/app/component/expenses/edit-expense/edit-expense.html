<div class="app-container">
  <!-- Sidebar -->
  <app-sidebar (menuSelect)="onMenuSelect($event)"></app-sidebar>

  <!-- Content -->
  <div class="content">
    <div class="page-wrapper">
      <!-- Header -->
      <div class="page-header">
        <h2 class="page-title">Edit Expense</h2>
        <p class="page-subtitle">Update the details of your expense</p>
      </div>

      <!-- Form -->
      <form class="expense-form" #form="ngForm" (ngSubmit)="updateExpense(form)">
        <!-- Amount -->
        <div class="form-field">
          <label for="amount">Amount <span class="required">*</span></label>
          <input
            type="number"
            id="amount"
            name="amount"
            [(ngModel)]="expense.amount"
            placeholder="Enter amount"
            min="0.01"
            step="0.01"
            required
          />
        </div>

        <!-- Category -->
        <div class="form-field">
          <label for="category">Category <span class="required">*</span></label>
          <input
            type="text"
            id="category"
            name="category"
            [(ngModel)]="expense.category"
            placeholder="Enter category"
            required
          />
        </div>

        <!-- Date -->
        <div class="form-field">
          <label for="date">Date <span class="required">*</span></label>
          <input
            type="date"
            id="date"
            name="date"
            [(ngModel)]="expense.date"
            required
            placeholder="zz.ll.aaaa"
          />
        </div>

        <!-- Description -->
        <div class="form-field">
          <label for="description">Description (optional)</label>
          <textarea
            id="description"
            name="description"
            [(ngModel)]="expense.description"
            rows="2"
            placeholder="Optional notes"
          ></textarea>
        </div>

        <!-- Frequency -->
        <div class="form-field">
          <label for="frequency">Frequency</label>
          <select id="frequency" name="frequency" [(ngModel)]="expense.frequency">
            <option *ngFor="let o of frequencyOptions" [value]="o.value">{{ o.label }}</option>
          </select>
        </div>

        <!-- End Date -->
        <div class="form-field">
          <label for="endDate">End Date (optional)</label>
          <input
            id="endDate"
            name="endDate"
            type="date"
            [(ngModel)]="expense.endDate"
            placeholder="zz.ll.aaaa"
          />
        </div>

        <!-- Next Due Date -->
        <div class="form-field">
          <label for="nextDueDate">Next Due Date</label>
          <input
            id="nextDueDate"
            name="nextDueDate"
            type="date"
            [(ngModel)]="expense.nextDueDate"
            placeholder="zz.ll.aaaa"
          />
        </div>

        <!-- Payment Method -->
        <div class="form-field">
          <label for="paymentMethod">Payment Method</label>
          <select id="paymentMethod" name="paymentMethod" [(ngModel)]="expense.paymentMethod">
            <option *ngFor="let o of paymentMethodOptions" [value]="o.value">{{ o.label }}</option>
          </select>
        </div>

        <!-- Buttons -->
        <div class="form-buttons">
          <button type="submit" class="save-btn">Update Expense</button>
          <button type="button" class="cancel-btn" (click)="cancelEdit()">Cancel</button>
        </div>

      </form>
    </div>
  </div>
</div>

<p-toast position="top-left"></p-toast>
