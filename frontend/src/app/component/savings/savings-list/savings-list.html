<div class="page-layout">
  <app-sidebar></app-sidebar>

  <div class="app-container">
    <div class="header">
      <div class="header-left">
        <p-date-picker
          [(ngModel)]="filterDate"
          [showIcon]="true"
          inputId="buttondisplay"
          [showOnFocus]="false"
          (ngModelChange)="filterSavings()"
          placeholder="zz.ll.aaaa"
          dateFormat="dd.mm.yy">
        </p-date-picker>

        <span class="p-input-icon-left search-input">
          <i class="pi pi-search"></i>
          <input
            pInputText
            type="text"
            placeholder="Filter by Goal"
            [(ngModel)]="filterGoal"
            (ngModelChange)="filterSavings()" />
        </span>
      </div>

      <p-button
        label="+ Add Saving"
        [style]="{'background-color': '#a78bfa', 'border': 'none'}"
        [routerLink]="['/savings/add']">
      </p-button>
    </div>

    <p-table
      class="savings-list"
      [value]="filteredSavings"
      responsiveLayout="scroll"
      [rows]="6"
      [tableStyle]="{ 'min-width': '50rem' }">

      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="date">Date</th>
          <th pSortableColumn="goal">Goal</th>
          <th pSortableColumn="amount">Amount</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-item>
        <tr [style.background-color]="'#f3e8ff'" [style.color]="'#000000'">
          <td>{{ item.date | date:'dd.MM.yyyy' }}</td>
          <td>{{ item.goal }}</td>
          <td>${{ item.amount }}</td>
          <td>{{ item.description }}</td>
          <td class="actions">
            <p-button
              icon="pi pi-pencil"
              severity="secondary"
              class="p-button-rounded p-button-sm mr-2"
              [style]="{ backgroundColor: '#a78bfa', border: 'none' }"
              [routerLink]="['/savings/edit', item.id]">
            </p-button>

            <p-button
              icon="pi pi-trash"
              severity="danger"
              class="p-button-rounded p-button-sm"
              [style]="{ backgroundColor: '#f472b6', border: 'none' }"
              (onClick)="deleteSaving(item.id)">
            </p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
