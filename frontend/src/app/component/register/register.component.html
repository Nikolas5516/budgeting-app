<div class="register-page">
  <div class="register-box">
    <h2>Create Account</h2>

    <p class="subtitle">Sign up to get started</p>

    <form (ngSubmit)="register()">
      <div class="form-field">
        <input
          [(ngModel)]="name"
          name="name"
          placeholder="Username"
          required
          type="text"
          pInputText
          class="w-full"
          [class.p-invalid]="fieldErrors.name"/>
        <div *ngIf="fieldErrors.name" class="field-error">{{ fieldErrors.name }}</div>
      </div>

      <div class="form-field">
        <input
          [(ngModel)]="email"
          name="email"
          placeholder="Email"
          required
          type="email"
          pInputText
          class="w-full"
          [class.p-invalid]="fieldErrors.email"/>
        <div *ngIf="fieldErrors.email" class="field-error">{{ fieldErrors.email }}</div>
      </div>

      <div class="form-field">
        <p-password
          [(ngModel)]="password"
          name="password"
          placeholder="Password"
          [toggleMask]="true"
          [feedback]="false"
          styleClass="w-full"
          inputStyleClass="w-full"
          [class.p-invalid]="fieldErrors.password"
          required>
        </p-password>
        <div *ngIf="fieldErrors.password" class="field-error">{{ fieldErrors.password }}</div>
      </div>

      <div class="form-field">
        <p-password
          [(ngModel)]="confirm_password"
          name="confirm_password"
          placeholder="Confirm Password"
          [toggleMask]="true"
          [feedback]="false"
          styleClass="w-full"
          inputStyleClass="w-full"
          [class.p-invalid]="fieldErrors.confirmPassword"
          required>
        </p-password>
        <div *ngIf="fieldErrors.confirmPassword" class="field-error">{{ fieldErrors.confirmPassword }}</div>
      </div>

      <p-message *ngIf="successMessage" severity="success" [text]="successMessage" styleClass="w-full success-message"></p-message>

      <p-button
        class="register-btn"
        type="submit"
        label="Register"
        [loading]="isLoading"
        styleClass="w-full">
      </p-button>
    </form>

    <p class="login-text">
      Already have an account? <a [routerLink]="['/login']">Login</a>
    </p>

    <p-message *ngIf="error" severity="error" [text]="error" styleClass="w-full"></p-message>
  </div>
</div>
